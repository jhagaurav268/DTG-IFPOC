<template>
    <template if:true={showSpinner}>
        <lightning-spinner variant="brand"></lightning-spinner>
    </template>

    <article class="slds-card">
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__body" style="background-color: #496584; border-radius: 10px;">
                    <h2 class="slds-card__header-title">
                        <span style="color: #fff; font-weight: bold; font-size: 25px;"
                            class="slds-p-around_x-small">Reviews</span>
                    </h2>
                </div>
            </header>
        </div>
        <div class="slds-card__body slds-card__body_inner slds-m-top_large">
            <div class="slds-m-top_x-large">
                <span style="color: #496584; font-weight: bold; font-size: 20px;">All Projects For Review</span>
                <div class="slds-grid slds-gutters slds-m-top_large slds-m-bottom_large">
                    <div class="slds-m-left_medium">
                        <span>
                            <lightning-input name="allProjectForReviewSearch" variant="label-hidden" type="text"
                                value={allProjectReviewSearchValue} placeholder="Search"
                                onchange={handleProjectChange}></lightning-input>
                        </span>
                    </div>
                    <div class="slds-m-left_medium">
                        <span>
                            <lightning-combobox name="allProjectReviewStatus" label="Status"
                                value={allProjectReviewStatusValue} placeholder="Status"
                                options={allProjectReviewStatusOptions} onchange={handleProjectChange}
                                variant="label-hidden"></lightning-combobox>
                        </span>
                    </div>
                    <div class="slds-m-left_medium">
                        <span>
                            <lightning-combobox name="allProjectPracticePlanOne" label="PL1 Practice Plan"
                                value={allProjectPracticePlanValueOne} placeholder="PL1 Practice Plan"
                                options={allProjectPracticePlanOptionsOne} onchange={handleProjectChange}
                                variant="label-hidden"></lightning-combobox>
                        </span>
                    </div>
                    <div class="slds-m-left_medium">
                        <span>
                            <lightning-combobox name="allProjectPracticePlanTwo" label="PL2 Practice Plan"
                                value={allProjectPracticePlanValueTwo} placeholder="PL2 Practice Plan"
                                options={allProjectPracticePlanOptionsTwo} onchange={handleProjectChange}
                                variant="label-hidden"></lightning-combobox>
                        </span>
                    </div>
                </div>
                <div class="myTable">
                    <lightning-datatable key-field="Name" data={filteredAllProjectData} columns={allProjectColumns}
                        onrowaction={handleRowAction} hide-checkbox-column>
                    </lightning-datatable>
                </div>
            </div>
            <div style="border: 1px solid grey; margin-top: 10px;">
                <lightning-flow flow-api-name='SF_GO_Admins_Reviewer_Assignment_v1'
                    onstatuschange={handleFlowStatusChange}>
                </lightning-flow>
            </div>

            <div style="border: 1px solid grey; margin-top: 10px;">
                <div class="slds-m-top_x-large slds-m-around_medium">
                    <span style="color: #496584; font-weight: bold; font-size: 20px;">Project Review
                        Assignment</span>
                    <div style="margin-top: 20px;" class="myTable">
                        <lightning-datatable key-field="ProjectNumber" data={reviewAssignmentData}
                            columns={projectAssignmentColumns} hide-checkbox-column>
                        </lightning-datatable>
                    </div>
                </div>
            </div>

        </div>
        <footer class="slds-card__footer">

        </footer>
    </article>
</template>